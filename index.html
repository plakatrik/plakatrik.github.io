<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=3.0">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="theme-color" content="#1a5530">
    <title data-lang="meta.title">Stockholm Pipe Band - S√§ckpipeband</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="js/language.js"></script>
</head>
<body>
    <header>
        <div class="header-content">
            <h1 data-lang="header.title">Stockholm Pipe Band</h1>
            <p class="tagline" data-lang="header.tagline">The Pipes and Drums of the 1st Royal Engineers</p>

            <!-- Mobile menu toggle -->
            <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" aria-label="Toggle menu" data-lang="meta.menuToggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <nav id="main-nav">
                <ul>
                    <li><a href="#home" onclick="closeMobileMenu()" data-lang="nav.home">Hem</a></li>
                    <li><a href="#about" onclick="closeMobileMenu()" data-lang="nav.about">Om Bandet</a></li>
                    <li><a href="#performances" onclick="closeMobileMenu()" data-lang="nav.performances">Upptr√§danden</a></li>
                    <li><a href="#services" onclick="closeMobileMenu()" data-lang="nav.services">Boka Oss</a></li>
                    <li><a href="#join" onclick="closeMobileMenu()" data-lang="nav.join">B√∂rja Spela</a></li>
                    <li><a href="#contact" onclick="closeMobileMenu()" data-lang="nav.contact">Kontakt</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <main>
        <!-- Hero Section -->
        <section id="home" class="hero">
            <div class="hero-content">
                <h2 data-lang="hero.title">V√§lkommen till Stockholm Pipe Band</h2>
                <p class="hero-description" data-lang="hero.description">Upplev den kraftfulla och majest√§tiska klangen av traditionella skotska s√§ckpipor. Vi f√∂r vidare en urgammal musikalisk tradition med passion och stolthet.</p>
                <div class="hero-image-placeholder">
                    <img src="images/vm.jpg" data-lang="hero.imageAlt" alt="Stockholm Pipe Band bandmedlemmar i traditionella skotska kiltar, foto: Henrik Brandt" >
                </div>
                <div class="cta-buttons">
                    <a href="#services" class="btn-primary" data-lang="hero.bookButton">Boka Oss</a>
                    <a href="#about" class="btn-secondary" data-lang="hero.readMoreButton">L√§s Mer</a>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about">
            <h2 data-lang="about.title">Om The Pipes and Drums of the 1st Royal Engineers</h2>
            <div class="about-content">
                <div class="about-text">
                    <p data-lang="about.history">V√•r historia √§r l√•ng och The Pipes & Drums of the 1st Royal Engineers har varit v√•rt namn fr√•n 1987, d√• vi blev Svea Ingenj√∂rregementes hedersmusikk√•r. Bandet grundades redan 1968 som The Thistle Pipe Band av Per Colliander, som p√• allvar inf√∂rde den skotska h√∂glandss√§ckpipan i Sverige</p>
                    
                    <br>
                    
                    <p data-lang="about.specializedIn">Vi √§r specialiserade p√•:</p>
                    <ul data-lang="about.specializations">
                        <li>Traditionella skotska melodier och marschmusik</li>
                        <li>Ceremonier och h√∂gtidliga tillf√§llen</li>
                        <li>Br√∂llop och begravningar</li>
                        <li>Festivaler och kulturella evenemang</li>
                        <li>F√∂retagsevenemang och representationer</li>
                    </ul>
                </div>
                
                <div class="band-members">
                    <h3 data-lang="about.musiciansTitle">V√•ra Musiker</h3>
                    <div class="members-grid">
                        <div class="member">
                            <h4 data-lang="member.lars.name">Lars Andersson</h4>
                            <p data-lang="member.lars.role">Pipe Major</p>
                            <p data-lang="member.lars.description">25+ √•rs erfarenhet, utbildad i Skottland</p>
                            <span class="quote" data-lang="member.lars.quote">"S√§ckpipan √§r mer √§n ett instrument ‚Äì det √§r en livsstil."</span>
                        </div>
                        <div class="member">
                            <h4 data-lang="member.erik.name">Erik Johansson</h4>
                            <p data-lang="member.erik.role">Senior Piper</p>
                            <p data-lang="member.erik.description">Specialist p√• traditionella marschmelodier</p>
                            <span class="quote" data-lang="member.erik.quote">"N√§r tonerna ljuder, f√∂renas historia och hj√§rta."</span>
                        </div>
                        <div class="member">
                            <h4 data-lang="member.oden.name">Oden Haglind</h4>
                            <p data-lang="member.oden.role">Piper</p>
                            <p data-lang="member.oden.description">Expertis inom ceremonialmusik</p>
                            <span class="quote" data-lang="member.oden.quote">"Det √§r ganska trevligt att suga och bl√•sa i en f√•rmage."</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Performances Section -->
        <section id="performances">
            <h2 data-lang="performances.title">Upptr√§danden & Evenemang</h2>
            <div class="performances-content">
                <div class="video-showcase">
                    <h3 data-lang="performances.videoTitle">Se Oss i Aktion</h3>
                    <div class="video-container">
                        <iframe 
                            src="https://www.youtube.com/embed/1t_wMahQ64Y?start=2" 
                            title="Stockholm Pipe Band Performance" 
                            data-lang="meta.videoTitle"
                            frameborder="0" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                            allowfullscreen>
                        </iframe>
                    </div>
                </div>
                
                <div class="event-types">
                    <h3 data-lang="performances.eventTypesTitle">Vi Spelar Vid</h3>
                    <div class="event-type-grid">
                        <div class="event-type">
                            <h4 data-lang="event.weddings.title">üíí Br√∂llop</h4>
                            <p data-lang="event.weddings.description">Traditionell processionsmusik och ceremoniella melodier</p>
                        </div>
                        <div class="event-type">
                            <h4 data-lang="event.funerals.title">‚ö±Ô∏è Begravningar</h4>
                            <p data-lang="event.funerals.description">V√§rdiga och respektfulla ceremonier med "Amazing Grace" och andra klassiker</p>
                        </div>
                        <div class="event-type">
                            <h4 data-lang="event.festivals.title">üé™ Festivaler</h4>
                            <p data-lang="event.festivals.description">Kulturella evenemang, Highland Games och musikfestivaler</p>
                        </div>
                        <div class="event-type">
                            <h4 data-lang="event.corporate.title">üè¢ F√∂retagsevent</h4>
                            <p data-lang="event.corporate.description">Representation, invigningar och speciella tillf√§llen</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Services Section -->
        <section id="services">
            <h2 data-lang="services.title">Boka Stockholm Pipe Band</h2>
            <div class="services-content">
                <div class="booking-info">
                    <h3 data-lang="services.subtitle">V√•ra Tj√§nster</h3>
                    <div class="service-packages">
                        <div class="package">
                            <h4 data-lang="package.solo.title">Solo Piper</h4>
                            <p data-lang="package.solo.description">En erfaren s√§ckpipespelare f√∂r intimare tillst√§llningar</p>
                            <ul data-lang="package.solo.features">
                                <li>30-45 minuters upptr√§dande</li>
                                <li>Traditionell skotsk dr√§kt</li>
                                <li>Personlig repertoar efter √∂nskem√•l</li>
                            </ul>
                            <p class="price" data-lang="package.solo.price">Fr√•n 3,500 SEK</p>
                            <div class="booking-tooltip">
                                <h5 data-lang="package.solo.bookingTitle">üìû Hur du bokar:</h5>
                                <p data-lang="package.solo.bookingInfo">Ring <strong>+46 70 123 45 67</strong><br>
                                Eller mejla <strong>info@stockholmpipeband.se</strong><br>
                                <em>Minst 4 veckors f√∂rvarning rekommenderas</em></p>
                            </div>
                        </div>
                        
                        <div class="package featured">
                            <h4 data-lang="package.band.title">Fullst√§ndigt Band</h4>
                            <p data-lang="package.band.description">3-5 s√§ckpipespelare f√∂r st√∂rre evenemang</p>
                            <ul data-lang="package.band.features">
                                <li>1-2 timmars upptr√§dande</li>
                                <li>Komplett traditionell utstyrsel</li>
                                <li>Processioner och marschmusik</li>
                                <li>Interaktion med publiken</li>
                            </ul>
                            <p class="price" data-lang="package.band.price">Fr√•n 8,500 SEK</p>
                            <div class="booking-tooltip">
                                <h5 data-lang="package.band.bookingTitle">üìû Hur du bokar:</h5>
                                <p data-lang="package.band.bookingInfo">Ring <strong>+46 70 123 45 67</strong><br>
                                Eller mejla <strong>info@stockholmpipeband.se</strong><br>
                                <em>Minst 6 veckors f√∂rvarning rekommenderas</em></p>
                            </div>
                        </div>
                        
                        <div class="package">
                            <h4 data-lang="package.workshop.title">Workshop & Utbildning</h4>
                            <p data-lang="package.workshop.description">L√§r dig grunderna i s√§ckpipespel</p>
                            <ul data-lang="package.workshop.features">
                                <li>Introduktion till instrumentet</li>
                                <li>Grundl√§ggande teknik</li>
                                <li>Historik och tradition</li>
                                <li>Grupprabatter tillg√§ngliga</li>
                            </ul>
                            <p class="price" data-lang="package.workshop.price">Fr√•n 2,500 SEK</p>
                            <div class="booking-tooltip">
                                <h5 data-lang="package.workshop.bookingTitle">üìû Hur du bokar:</h5>
                                <p data-lang="package.workshop.bookingInfo">Ring <strong>+46 70 123 45 67</strong><br>
                                Eller mejla <strong>info@stockholmpipeband.se</strong><br>
                                <em>Flexibla tider - kontakta oss!</em></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Join Section -->
        <section id="join">
            <h2 data-lang="join.title">B√∂rja Spela S√§ckpipa</h2>
            <div class="join-content">
                <p data-lang="join.intro">√Ñr du intresserad av att l√§ra dig spela s√§ckpipa eller g√• med i v√•rt band? Vi v√§lkomnar nya medlemmar p√• alla niv√•er!</p>
                
                <div class="learning-path">
                    <h3 data-lang="join.pathTitle">Din Resa till S√§ckpipespel</h3>
                    <div class="steps">
                        <div class="step">
                            <h4 data-lang="step.0.title">1. Grundkurs</h4>
                            <p data-lang="step.0.description">B√∂rja med practice chanter och l√§r dig grundl√§ggande fingers√§ttningar</p>
                        </div>
                        <div class="step">
                            <h4 data-lang="step.1.title">2. Teknisk Utveckling</h4>
                            <p data-lang="step.1.description">Utveckla din teknik med traditionella √∂vningar och skalor</p>
                        </div>
                        <div class="step">
                            <h4 data-lang="step.2.title">3. Fullst√§ndiga S√§ckpipor</h4>
                            <p data-lang="step.2.description">√ñverg√•ng till fullst√§ndiga pipor n√§r du beh√§rskar grunderna</p>
                        </div>
                        <div class="step">
                            <h4 data-lang="step.3.title">4. Bandmedlemskap</h4>
                            <p data-lang="step.3.description">G√• med i bandet n√§r du uppn√•tt l√§mplig niv√•</p>
                        </div>
                    </div>
                </div>
                
                <div class="requirements">
                    <h3 data-lang="join.requirementsTitle">Vad Kr√§vs?</h3>
                    <ul data-lang="join.requirements">
                        <li>Passion f√∂r musik och skotsk kultur</li>
                        <li>T√•lamod och dedikation till tr√§ning</li>
                        <li>Inget tidigare musikerfarenhet n√∂dv√§ndigt</li>
                        <li>Vi hj√§lper dig att hitta r√§tt instrument</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact">
            <h2 data-lang="contact.title">Kontakta Oss</h2>
            <div class="contact-content">
                <div class="contact-info">
                    <h3 data-lang="contact.bandName">Stockholm Pipe Band</h3>
                    <div class="contact-details">
                        <p><strong>Telefon:</strong> <a href="tel:+4686440610" data-lang="contact.phone">08-6440610</a></p>
                        <p><strong>E-post:</strong> <a href="mailto:info@sackpipa.com" data-lang="contact.email"> info@sackpipa.com</a></p>
                        <p><strong>Adress:</strong> <span data-lang="contact.address">Sirapsv√§gen 9, 123 56 Farsta</span></p>
                    </div>
                    
                    <div class="social-media">
                        <h4 data-lang="contact.followUs">F√∂lj Oss</h4>
                        <div class="social-links">
                            <a href="#" class="social-link" data-lang="social.facebook">Facebook</a>
                            <a href="#" class="social-link" data-lang="social.instagram">Instagram</a>
                            <a href="#" class="social-link" data-lang="social.youtube">YouTube</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <p data-lang="footer.copyright">&copy; 2025 Stockholm Pipe Band. Alla r√§ttigheter f√∂rbeh√•llna.</p>
            <p data-lang="footer.tagline">Traditionell skotsk s√§ckpipemusik sedan 2018</p>
        </div>
    </footer>

    <!-- Mobile Menu JavaScript -->
    <script>
        function toggleMobileMenu() {
            // const nav = document.getElementById('main-nav');
            // const toggle = document.querySelector('.mobile-menu-toggle');
            // nav.classList.toggle('mobile-open');
            // toggle.classList.toggle('active');
        }
        
        function closeMobileMenu() {
            // const nav = document.getElementById('main-nav');
            // const toggle = document.querySelector('.mobile-menu-toggle');
            // nav.classList.remove('mobile-open');
            // toggle.classList.remove('active');
        }
        
        // Close mobile menu when clicking outside
        // document.addEventListener('click', function(event) {
        //     const nav = document.getElementById('main-nav');
        //     const toggle = document.querySelector('.mobile-menu-toggle');
        //     const header = document.querySelector('header');
            
        //     if (!header.contains(event.target) && nav.classList.contains('mobile-open')) {
        //         closeMobileMenu();
        //     }
        // });
        
        // Header scroll minimization - Ultra-smooth progressive transition
        // Inaktiverat p√• mobila enheter
        let lastScrollTop = 0;
        let ticking = false;
        let scrollTimeout;
        const header = document.querySelector('header');
        const h1 = header.querySelector('h1');
        const tagline = header.querySelector('.tagline');
        const nav = header.querySelector('nav');
        
        function updateHeader() {
           
            // Avbryt p√• mobila enheter
            if (window.innerWidth <= 768) {
                return;
            }
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            
            // Progressive transition between 100px and 400px
            const startTransition = 100;
            const endTransition = 400;
            
            // Calculate progress (0 = no scroll, 1 = fully scrolled)
            let progress = Math.max(0, Math.min(1, (scrollTop - startTransition) / (endTransition - startTransition)));
            
            // Smooth easing function for more natural feel
            progress = progress * progress * (3 - 2 * progress); // Smoothstep function
            
            // Apply progressive changes to header
            const minPadding = 1; // rem - minskat f√∂r smalare header
            const maxPadding = 2; // rem
            const currentPadding = maxPadding - (progress * (maxPadding - minPadding));
            
            // Update header padding smoothly
            header.style.paddingTop = currentPadding - 1 + 'rem';
            header.style.paddingBottom = currentPadding + 'rem';
            
            // Progressive opacity and transform for title and tagline
            const opacity = 1 - progress;
            const translateY = progress * -20; // Move up 20px when hidden
            
            if (h1) {
                h1.style.opacity = opacity;
                h1.style.transform = `translateY(${translateY}px)`;
                // h1.style.marginBottom = (1 - progress) + 'rem';
            }
            
            if (tagline) {
                tagline.style.opacity = opacity;
                tagline.style.transform = `translateY(${translateY}px)`;
                tagline.style.marginBottom = (1.5 - (progress * 1.5)) + 'rem';
                // tagline.style.height = (1.7 - (progress * 1.7)) + 'rem';
            }
            
            // Animera navigationen upp√•t n√§r man scrollar
            if (nav) {
                // Ber√§kna hur mycket navigationen ska r√∂ra sig upp baserat p√• progress
                const maxUpMovement = -30; // Maximum pixels upp√•t
                const currentUpMovement = progress * maxUpMovement;
                
                // Applicera transform f√∂r att r√∂ra navigationen upp√•t
                nav.style.transform = `translateY(${currentUpMovement}px)`;
                nav.style.position = 'relative';
            }
            
            // Blura endast bakgrundsbilden genom att √§ndra CSS-variabel
            const maxBlur = 4; // Maximum blur i pixels
            const currentBlur = progress * maxBlur;
            
            // Skapa eller uppdatera en style-regel f√∂r body::before
            let backgroundStyle = document.getElementById('dynamic-background-style');
            if (!backgroundStyle) {
                backgroundStyle = document.createElement('style');
                backgroundStyle.id = 'dynamic-background-style';
                document.head.appendChild(backgroundStyle);
            }
            backgroundStyle.textContent = `
                body::before {
                    filter: blur(${currentBlur}px);
                }
            `;
            
            // Progressive background opacity
            const bgOpacity = 0.95 + (progress * 0.05); // From 0.95 to 1
            if (progress > 0.1) {
                // header.style.background = `rgba(26, 85, 48, ${bgOpacity})`;
                header.style.background = `rgba(10 32 75, ${bgOpacity})`;
                header.style.backdropFilter = 'blur(10px)';
            } else {
                //header.style.background = 'linear-gradient(135deg, #1a5530 0%, #2d5016 50%, #1a5530 100%)';
                header.style.background = 'linear-gradient(135deg, rgb(26, 53, 103) 10%, rgb(1 2 4) 50%, rgb(41, 68, 105) 100%)';
                //                         linear-gradient(135deg, rgb(26 46 103) 10%, rgb(25 41 71) 50%, rgb(25 57 89) 100%)
                //                         linear-gradient(135deg, rgb(39 90 127) 0%, rgb(25 39 65) 50%, rgb(26 56 85) 100%)
                header.style.backdropFilter = 'none';
            }
            
            lastScrollTop = scrollTop;
            ticking = false;
        }
        
        function requestTick() {
            if (!ticking) {
                requestAnimationFrame(updateHeader);
                ticking = true;
            }
        }
        
        // Throttled scroll handler with passive listener for maximum performance
        function handleScroll() {
            // Clear existing timeout
            clearTimeout(scrollTimeout);
            
            // Request animation frame for smooth updates
            requestTick();
            
            // Set timeout to ensure final state is applied
            scrollTimeout = setTimeout(() => {
                if (!ticking) {
                    requestTick();
                }
            }, 50);
        }
        
        // Use passive event listener for better scroll performance
        // Endast p√• desktop, inte p√• mobiler
        if (window.innerWidth > 768) {
            window.addEventListener('scroll', handleScroll, { 
                passive: true,
                capture: false 
            });
        }
        
        // Smooth scrolling for anchor links with header offset
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    // P√• mobiler (d√§r header inte √§r sticky), scrolla direkt till m√•lpunkten
                    if (window.innerWidth <= 768) {
                        window.scrollTo({
                            top: target.getBoundingClientRect().top + window.pageYOffset,
                            behavior: 'smooth'
                        });
                    } else {
                        // P√• desktop, ber√§kna headerns h√∂jd dynamiskt
                        const headerHeight = header.offsetHeight;
                        const targetPosition = target.getBoundingClientRect().top + window.pageYOffset;
                        const offsetPosition = targetPosition - headerHeight - 20; // Extra 20px f√∂r b√§ttre spacing
                        
                        window.scrollTo({
                            top: offsetPosition,
                            behavior: 'smooth'
                        });
                    }
                }
            });
        });

    </script>
</body>
</html>
